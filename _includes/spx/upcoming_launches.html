<table class='upcoming'>
  <thead>
    <tr style="text-align:left;">
      <th></th>
      <th></th>
      <th>Name</th>
      <th>T - minus</th>
      <th>Datetime</th>
      <th>From</th>
      <th>To</th>
      <th>Flight</th>
    </tr>
  </thead>
  <tbody>
{%- for launch in upcoming -%}
{%- assign launchpad = site.data.launchpads | where: "id", launch.launchpad | first -%}
{% include spx/precision.html launch=launch %}
<tr class="{{ precision_class }}" apply-if-children="mode-opposite:.past">
  <td>{{ launch.flight_number }}</td>
  <td>{% include spx/rocket.html id=last_launch.rocket %}</td>
  <td title="{% include spx/payloads.html payloads=launch.payloads %}">{{ launch.name }}</td>
  <td>{{ datetime }}</td>
  <td><code title="{{ launch.date_local | date: "%a %d %b %T" }}">{{ launch.date_unix | date: "%a %d %b %T" }}</code></td>
  <td title="{{ launchpad.launch_successes }}-{{ launchpad.launch_attempts | minus: launchpad.launch_successes }} launches">{{ launchpad.name }}</td>
  <td>{%- for core in launch.cores -%}
    {%- assign exp = "item.id == '" | append: core.landpad | append: "'" -%}
    {%- assign landpad = site.data.landpads | where_exp: "item", exp | first -%}
    <span title="{{ landpad.landing_successes }}-{{ landpad.landing_attempts | minus: landpad.landing_successes }} landings">{{ landpad.name | default: core.landing_type }}{%- unless forloop.last -%}&nbsp;{%- endunless -%}</span>
  {%- endfor -%}</td>
  <td>{%- for core in launch.cores -%}{{ core.flight }}{%- unless forloop.last -%}&nbsp;{%- endunless -%}{%- endfor -%}</td>
</tr>
{%- endfor -%}
  </tbody>
</table>